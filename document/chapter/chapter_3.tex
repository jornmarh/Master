\chapter{Special quasi-random Structures}
\label{sec:SQS}

There are numerous difficulties involved with modeling of high-entropy alloys, or more general multi-component random alloys. \textbf{These are ...} Today, the most popular approaches are the coherent potential approximation (CPA), the virtual crystal approximation (VCA), the cluster expansion method, and special quasi-random structure (SQS). For this project, we exclusively used the latter primarily for it's direct and easy VASP implementation. Compared to the other approaches mentioned above, SQS reliably outperforms MC/MD simulations in terms of DOS calculations, and are significantly easier to implement and interpret. All though especially CPA is considered superior in simulating the electronic character of random alloys, combination with VASP is cumbersome and thus we opted for SQS as the building block of this thesis. \textbf{More on this? Cite relevant references on this, and restructure the paragraph to include more specif information and sources.} 

\section{The concept and fundamentals of SQS - Write proper later}
Before the arrival of SQS and CPA methods, the common approach of modeling random alloys was to distribute the numerous elements randomly over the lattice sites. This was a costly operation, which either involved averaging a great number of possible configurations, or infeasible large supercells considering the computational efforts required. In the original paper on SQS published in 1990 \cite{sqsfull} \textbf{Replace this article with the bigger SQS article from 1990}, it was proposed a selective occupation strategy (originally intended at random binary alloys) to design special periodic quasi-random structures that exceed previous methods in accuracy and cost. The key concept was to create a periodic unit cell of the various components in a finite N lattice site single configuration such that the structure most closely resemble the configuration average of an infinite perfect random alloy. In an attempt to work withing the 50 lattice sites boundary of ab initio methods at that time. The working theory was that if one can resemble an infinite perfect random alloy by a periodic finite N cell, also the electronic properties would be similar between the two. The solution to this model was that for each N, ie lattice site, to minimize the difference of structural correlation function between the approximated cell and the perfect random alloy. There are obviously errors involved with approximating a random alloy by a periodic cell, but by the hierarchical relation to the properties of the material, interactions between distant sites only offer a negligible small contribution to the total energy of the system. Thus the aim of the SQS method is focused around optimizing the correlations within the first few shells of a given site. To follow is a review of the mathematics related to the SQS method.

\section{Mathematical formulation: Might need to expand on the definition and meaning behind terms such as clusters, figures, correlation functions etc (Add in post!)}
Before describing the SQS approach, we begin by reviewing the concepts of topics such as cluster expansions, statistics and superposition of periodic structures. These topics are widely covered in the literature, we will simply focus on the summarizing the description given in \cite{sqsfull}. Thus, we opt readers to refer to the original article or similar literature for a more comprehensive description of these topics. On a side note regarding the following mathematical derivation, the original concept was devolved for random binary alloys, but the theory have later been successfully extended to multi-component alloys as well. 

The different possible atomic arrangements are denoted as "configurations" $\sigma$. The various physical properties of a given configuration is $E(\sigma)$, and $<E>$ is the ensemble average over all configurations $\sigma$. In practice, this quantity is unfeasible in terms of computational cost, seeing as the average require calculations and relaxations of all possible configurations, for a binary alloy this is $2^N$ for a fixed N number of lattice sites. A solution to this is to use the theory of cluster expansions and discretize each configuration into "figures" $f$. A figure in the lattice is defined in terms of the number of atoms it include $k$, distance in terms of neighbors $m$, and position in the lattice $l$. Further we assign spin values for each lattice site $i$ in the figure to denote which element it holds (+1,-1 for a binary alloy). By defining the spin product of spin variables in a figure at lattice position $l$ as $\Pi_f(l, \sigma)$, we can write the average of all locations in the lattice of a given figure $f$ as 
\begin{equation}
    \vec{\Pi}_f(\sigma) = \frac{1}{ND_f} \sum_l \Pi_f (l,\sigma)
\end{equation}
where $D_f$ is the number of equivalent figures $f$ per site. The brilliance of this notation is that we now can express the physical property $E(\sigma)$ in terms of the individual contributions $\epsilon_f$ of a figure f.
\begin{equation}
    E(\sigma) = \sum_{f,l} \Pi_f(l, \sigma) \epsilon_f(l)
\end{equation}
The quantity $\epsilon_f$ is called the "effective cluster property" and is defined as (for a random binary alloy $A_{1-x}B_x$)
\begin{equation}
    \epsilon_f(l) = 2^{-N}\sum_\sigma^{2^N} \Pi_f (l,\sigma) E(\sigma)
\end{equation}
Inserting the equation for $\vec{\Pi}_f$ into that of $E(\sigma)$ we can describe the the previous cluster expansion of $E(\sigma)$ as
\begin{equation}
    E = N\sum_f D_f<\vec{Pi_f}>\epsilon_f
\end{equation}
And obtain a simplified expression for $<E(\sigma>)$ in eq 1? Thus we have successfully managed to reduce the expensive task of sampling all $E(\sigma)$ into calculating the effective cluster properties and summing over all types of figures. Remembering that $E(\sigma)$ can relate to many physical properties, the most common and applied case is that $E(\sigma)$ is the total energy, while $\epsilon_f$ is many body interaction energies. The cluster expansion above converge rather quickly with increasing number of figures, an effective method is thus to select a set of configurations to evaluate the effective cluster properties. Don't know how to write this, but the next step is to select a finite largest figure denoted $F$, and "specialize" the cluster expansion to a set of $N_s$ periodic structures ${\sigma} = ${s} to obtain the two expressions for $E(s)$ and $\epsilon_f$ using matrix inversion to obtain the result for $\epsilon_f$
\begin{align}
E(s) &= N\sum_{f}^{F} D_f \vec{\Pi}_f (s)\epsilon_f \\     
\epsilon_f &= \frac{1}{ND}\sum_{s}^{N_s}[\vec{\Pi}_f (s)]-1E(s)
\end{align}
Assuming now that the sum of figures $F$ and $N_s$ periodic structures are well converged, $E(\sigma)$ can be rewritten as a superposition of $E(s)$
\begin{align}
    E(\sigma) &= \sum_{s}^{N_s}\xi_s(\sigma)E(s) \\
    \xi_s(\sigma) &= \sum_{f}^{F}[\vec{\Pi}_f(s)]^{-1}\vec{\Pi}_f(\sigma)    
\end{align}
where $\xi$ is the weights. Thus we have effectively reduced the problem to a convergence problem of the number of figures $F$ and structures $N_s$. This can be easily solved given that we are dealing with periodic crystal structures ${s}$ that can employ the general applications of ordered structures from ab initio methods, and increasing $F$ until the truncation error falls bellow a desired threshold. However, this approach requires that the variance of the observable property is much lower than the sample mean, otherwise one would have to employ a much bigger sample size to reach statistical convergence. Don't how to write this part nicely, but: Because of the different relationship between various physical properties and the correlation functions, one observe different convergence depending on the meaning of $E$. The idea behind SQS was therefore to design single special structures with correlation functions ${\vec{\Pi}_f(s)}$ that most accurately match those of the ensemble average of a random alloy $<\vec{\Pi}_f>_R$. 

The correlation functions of an perfect random infinite alloy, denoted as $R$ is defined bellow
\begin{equation}
    \vec{\Pi}_{k,m}(R) = <\vec{\Pi}_{k,m}>_R = (2x-1)^l 
\end{equation}
with $k, m$ defined as before and x being the composition ratio of the alloy. In the case of an eqvimolar alloy ($x=\frac{1}{2}$), the functions equal 0 for all $k$ except $<\vec{\Pi}_{0,1}>_R = 1$. If we now randomly assign either atom A or B to every lattice site, for a sufficiently large value of N, the goal is then to create a single configuration that best match the random alloy. Keeping with the $x=\frac{1}{2}$ case, the problem is now that even though the average correlation functions of a large set of these structures approaches zero, like for the random alloy. The variance of the average is nonzero meaning that a selected structure of the sample is prone to contain errors. The extent of these errors can be evaluated from the standard deviations
\begin{equation}
    \nu_{k,m}(N) = |<\vec{\Pi}^{2}_{k,m}>|^{\frac{1}{2}} = (D_{k,m}N)^{-\frac{1}{2}}
\end{equation}
Given the computational aspects, it's obvious that economical structures with small N are prone to large errors. In fact, in some cases these errors can result in correlation functions centering around 1, as opposed to 0 for a perfect random alloy.  

I don't know how to write the prelude to this part! (see section IIIA in \cite{sqsfull}). The degree to which a structure $s$ fails to reproduce the property $E$ of the ensemble-averaged property of the random alloy can be described by a hierarchy of figures, see eq .. bellow
\begin{equation}
    <E> - E(s) = \sum_{k,m}' D_{k,m}[(2x-1)^k-\vec{\Pi}_{k,m}(s)]\epsilon_{k,m}
\end{equation}
, the prime is meant symbolize the absence of the value $0,1$ for $k,m$. The contribution from the figure property $\epsilon$ reduces for larger figures. In general, for disordered systems, the physical property "E" at a given point R falls of exponentially as $|R-R'|/L$, where L is a characteristic length scale relating to the specific property. Using this, the approach of SQS is to specify a set of correlation functions that hierarchically mimic the correlation functions of the random alloy. Meaning that it prioritize the nearest neighbor interactions. With the set of functions decided on, the objective it finally to locate the structures that correspond to the selected structures. 

Finished :) Write a final conclusion on this SQS derivation and motivate the incredibly bored reader for the coming sections. 

\section{Results and Advances in SQS and application to high-entropy alloys}
\textbf{A big part of this is related to the use of periodic crystal structures, that can employ standard ab initio methods; see article \cite{sqsfull}}.
\textbf{Write later, Begin with results of original SQS proposed in 1990, move on to mcsqs and finally mcsqs for HEA and results in that field. For references see: 
see ch 10 book HEA, mcsqs article and later sections in \cite{sqsfull}}

Following the 1990 paper, in 2013 a team of researchers further developed the concept of SQS to the current method used today, by the addition of monte-carlo algorithms \cite{mcsqs2013}. \textbf{Write later}

Today SQS have been successfully applied to study formation energies, elastic properties, bond lengths, density of states, band gaps, plus more for a number of disordered structures, including semiconductors, metals, and high-entropy alloys. \textbf{Last section of 10.1, maybe include references from this section?} However, a large portion of SQS studies relate to binary and ternary alloys, with a very limited amount of literature on SQS on high-entropy alloys. 